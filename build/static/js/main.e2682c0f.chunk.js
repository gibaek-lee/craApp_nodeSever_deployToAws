(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(71)},24:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),s=n.n(i),c=(n(24),n(2)),u=n(3),o=n(5),l=n(4),m=n(6),d=n(9),p=n(7),b=n.n(p),h=n(11),f=(n(28),function(e){var t=e.children;return r.a.createElement("div",{className:"WholeWrapper"},t)}),v=(n(30),function(e){var t=e.problems,n=e.makeInput,a=e.results,i=e.didSubmit,s=e.gotResult;return r.a.createElement("div",{className:"ProblemResultWrapper"},r.a.createElement(g,{problems:t,makeInput:n,didSubmit:i,results:a}),r.a.createElement(j,{results:a,gotResult:s}))}),g=(n(32),function(e){var t=e.problems,n=e.makeInput,a=e.didSubmit,i=e.results,s=t.map(function(e,t){return r.a.createElement(k,{problem:e,makeInput:n,didSubmit:a,results:i,key:t})});return r.a.createElement("ul",{className:"ProblemList"},s)}),k=(n(34),function(e){var t=e.problem,n=e.makeInput,a=e.didSubmit,i=e.results,s=(e.index,t.id),c=t.type,u=t.problem_text,o=t.choices;return r.a.createElement("div",{className:"ProblemBox"},r.a.createElement(E,{id:s,text:u}),r.a.createElement(w,{id:s,type:c,choices:o,results:i,makeInput:n,didSubmit:a}))}),E=(n(36),function(e){var t=e.id,n=e.text;return r.a.createElement("div",{className:"Problem"},t,". ",n)}),w=(n(38),function(e){var t=e.id,n=e.type,a=e.choices,i=e.makeInput,s=e.didSubmit,c=e.results;if(1===n&&a){var u=JSON.parse(a),o=[],l=[];return u&&(o=u.map(function(e,n){return r.a.createElement(S,{id:t,choice:e,makeInput:i,didSubmit:s,key:n})}),s&&(l=u.map(function(e,n){return r.a.createElement(S,{id:t,choice:e,result:c[t],didSubmit:s,key:n})}))),s?r.a.createElement("div",null,r.a.createElement("form",{className:"Answer"},"\ub098\uc758 \ub2f5: ",o),r.a.createElement("form",{className:"Answer"},"\uc815\ub2f5: ",l)):r.a.createElement("form",{className:"Answer"},o)}return s?r.a.createElement("div",null,"\ub098\uc758 \ub2f5: ",r.a.createElement(O,{id:t,makeInput:i}),"\uc815\ub2f5: ",r.a.createElement(O,{id:t,makeInput:i,result:c[t]})):r.a.createElement(O,{id:t,makeInput:i})}),S=(n(40),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(){var e=n.props,t=e.id,a=e.choice;(0,e.makeInput)(t,a)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.choice,n=e.id,a=e.didSubmit;e.result,e.index;return a?r.a.createElement("div",{className:"CheckBox"},r.a.createElement("input",{type:"radio",id:n,name:"CheckBox"}),t):r.a.createElement("div",{className:"CheckBox"},r.a.createElement("input",{type:"radio",id:n,name:"CheckBox",onChange:this.handleChange}),t)}}]),t}(a.Component)),O=(n(42),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){n.setState({value:e.target.value})},n.state={value:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.id,r=n.makeInput,i=this.state.value;t.value!==i&&r(a,this.state.value)}},{key:"render",value:function(){var e=this.state.value;return r.a.createElement("div",{className:"TextBox"},r.a.createElement("input",{type:"text",name:"TextBox",value:e,onChange:this.handleChange}))}}]),t}(a.Component)),j=(n(44),function(e){var t=e.results;if(e.gotResult){var n=t.map(function(e,t){return r.a.createElement(y,{id:e.id,result:e.result,key:t})});return r.a.createElement("ul",{className:"ResultList"},n)}return r.a.createElement("ul",{className:"ResultList"})}),y=(n(46),function(e){var t=e.id,n=e.result;return r.a.createElement("div",{className:"Result"},t,". ",n)}),x=(n(48),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={disabled:!1},n.handleSubmit=function(e){e.preventDefault(),n.props.postAnswer(),n.props.didSubmitAtForm(!0),n.setState({disabled:!0}),console.log("Submit button disabled, answer submitted")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"SubmitForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",disabled:this.state.disabled},"\uc81c\ucd9c"))}}]),t}(a.Component)),C=n(8),I=n.n(C);var N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this))).getProblemsData=Object(h.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({getting:!0}),e.prev=1,e.next=4,I.a.get("/api/fetchProblem");case 4:t=e.sent,n.setState({getting:!1,problems:t.data.problems}),console.log("Success to get problemData"),console.log(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n.setState({getting:!1}),console.log("get error occured, ".concat(e.t0));case 14:case"end":return e.stop()}},e,this,[[1,10]])})),n.postAnswer=Object(h.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({getting:!0}),e.next=3,a=JSON.stringify(n.state.input),I()({method:"post",url:"/api/submit",baseURL:"http://localhost:3000/",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},data:a,withCredentials:!0,proxy:{host:"127.0.0.1",port:3e3}});case 3:(t=e.sent)?n.setState({getting:!1,results:t,gotResult:!0}):n.setState({getting:!1,results:[{id:1,result:!1,answer:""}]});case 5:case"end":return e.stop()}var a},e,this)})),n.makeInput=function(e,t){var a=n.state.input,r=a.findIndex(function(t){return t.id===e});r<0&&(n.setState({input:Object(d.a)(a).concat([{id:e,answer:t}])}),console.log("input success: answer added")),r>=0&&(n.setState({input:Object(d.a)(a.slice(0,r)).concat([{id:e,answer:t}],Object(d.a)(a.slice(r+1,a.length)))}),console.log("input success: answer modified"))},n.didSubmitAtForm=function(e){n.setState({didSubmit:e})},n.state={getting:!1,problems:[{id:1,problem_text:"",type:0,choices:"[]"}],input:[{id:1,answer:""}],results:[{id:1,result:!1,answer:"2"}],didSubmit:!1,gotResult:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getProblemsData()}},{key:"componentDidUpdate",value:function(e){e.input!==this.state.input&&(console.log("Current input state"),console.log(this.state.input))}},{key:"render",value:function(){var e=this.state,t=e.problems,n=e.results,a=e.gotResult,i=e.didSubmit;return r.a.createElement(f,null,r.a.createElement(v,{problems:t,makeInput:this.makeInput,results:n,didSubmit:i,gotResult:a}),r.a.createElement(x,{postAnswer:this.postAnswer,didSubmitAtForm:this.didSubmitAtForm}))}}]),t}(a.Component),A=(n(69),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.e2682c0f.chunk.js.map